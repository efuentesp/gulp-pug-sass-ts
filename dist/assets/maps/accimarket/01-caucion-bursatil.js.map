{"version":3,"sources":["accimarket/01-caucion-bursatil.ts"],"names":["console","log","$","accordion","ui_accordion_settings","datepicker","ui_datepicker_settings","rest_url","REST_URL","jqGrid","datatype","height","colNames","colModel","name","width","align","sortable","pager","rowNum","rowList","sortname","sortorder","viewrecords","gridview","autoencode","caption","contratos_params","http_findAll","payload","fillJqGrid","form","parsley","on","length","fecha","val","contrato","digito","negocio"],"mappings":"AAAAA,QAAQC,IAAI,uBAEZC,EAAE,iCAAiCC,UAAUC,uBAE7CF,EAAE,UAAUG,WAAWC,wBAEvB,IAAMC,SAAcC,SAAQ,eAE5BN,EAAE,oBAAoBO,OAAO,CAC5BC,SAAU,QACVC,OAAQ,IACRC,SAAU,CACT,WACA,QACA,UACA,SACA,KACA,WACA,UACA,QACA,WACA,SACA,YACA,WACA,QACA,QACA,WAEDC,SAAU,CACT,CAAEC,KAAM,WAAYC,MAAO,IAC3B,CAAED,KAAM,QAASC,MAAO,IACxB,CAAED,KAAM,UAAWC,MAAO,GAAIC,MAAO,SACrC,CAAEF,KAAM,SAAUC,MAAO,GAAIC,MAAO,SACpC,CAAEF,KAAM,KAAMC,MAAO,GAAIC,MAAO,SAChC,CAAEF,KAAM,WAAYC,MAAO,IAAKE,UAAU,GAC1C,CAAEH,KAAM,UAAWC,MAAO,IAC1B,CAAED,KAAM,QAASC,MAAO,IACxB,CAAED,KAAM,WAAYC,MAAO,IAC3B,CAAED,KAAM,SAAUC,MAAO,IACzB,CAAED,KAAM,YAAaC,MAAO,IAC5B,CAAED,KAAM,WAAYC,MAAO,IAC3B,CAAED,KAAM,QAASC,MAAO,IACxB,CAAED,KAAM,QAASC,MAAO,IACxB,CAAED,KAAM,UAAWC,MAAO,KAE3BG,MAAO,mBACPC,OAAQ,GACRC,QAAS,CAAC,GAAI,GAAI,IAClBC,SAAU,WACVC,UAAW,OACXC,aAAa,EACbC,UAAU,EACVC,YAAY,EACZC,QAAS,KAIV,IAAIC,iBAA8B,GAKlCC,aAAa,YAAaD,iBAAkB,SAAAE,GAC3CC,WAAW,mBAAoBD,KAGhC,IAAME,KAAQ7B,EAAE,uBACd8B,UACAC,GAAG,kBAAmB,WACX/B,EAAE,kBAAkBgC,SAK/BD,GAAG,cAAe,WAClBjC,QAAQC,IAAI,eAEZ0B,iBAAmB,GAEnB,IAAMQ,EAAQjC,EAAE,UAAUkC,MACpBC,EAAWnC,EAAE,aAAakC,MAC1BE,EAASpC,EAAE,WAAWkC,MACtBG,EAAUrC,EAAE,iCAAiCkC,MAmBnD,OAjBID,IACHR,iBAAiBQ,MAAQA,GAEtBE,IACHV,iBAAiBU,SAAWA,GAEzBC,IACHX,iBAAiBW,OAASA,GAEvBC,IACHZ,iBAAiBY,QAAUA,GAG5BX,aAAa,YAAaD,iBAAkB,SAAAE,GAC3CC,WAAW,mBAAoBD,MAGzB","file":"../../pages/accimarket/01-caucion-bursatil.js","sourcesContent":["console.log('01-caucion-bursatil');\r\n\r\n$('#criterios_busqueda_accordion').accordion(ui_accordion_settings);\r\n\r\n$('#fecha').datepicker(ui_datepicker_settings);\r\n\r\nconst rest_url = `${REST_URL}/fideicomiso`;\r\n\r\n$('#table_contratos').jqGrid({\r\n\tdatatype: 'local',\r\n\theight: 250,\r\n\tcolNames: [\r\n\t\t'Contrato',\r\n\t\t'Libro',\r\n\t\t'Cliente',\r\n\t\t'Digito',\r\n\t\t'TV',\r\n\t\t'Descr TV',\r\n\t\t'Emisora',\r\n\t\t'Serie',\r\n\t\t'Cantidad',\r\n\t\t'Precio',\r\n\t\t'Valuación',\r\n\t\t'Promotor',\r\n\t\t'Folio',\r\n\t\t'Fecha',\r\n\t\t'Negocio'\r\n\t],\r\n\tcolModel: [\r\n\t\t{ name: 'contrato', width: 55 },\r\n\t\t{ name: 'libro', width: 90 },\r\n\t\t{ name: 'cliente', width: 80, align: 'right' },\r\n\t\t{ name: 'digito', width: 80, align: 'right' },\r\n\t\t{ name: 'tv', width: 80, align: 'right' },\r\n\t\t{ name: 'descr_tv', width: 150, sortable: false },\r\n\t\t{ name: 'emisora', width: 90 },\r\n\t\t{ name: 'serie', width: 90 },\r\n\t\t{ name: 'cantidad', width: 90 },\r\n\t\t{ name: 'precio', width: 90 },\r\n\t\t{ name: 'valuacion', width: 90 },\r\n\t\t{ name: 'promotor', width: 90 },\r\n\t\t{ name: 'folio', width: 90 },\r\n\t\t{ name: 'fecha', width: 90 },\r\n\t\t{ name: 'negocio', width: 90 }\r\n\t],\r\n\tpager: '#pager_contratos',\r\n\trowNum: 10,\r\n\trowList: [10, 20, 30],\r\n\tsortname: 'contrato',\r\n\tsortorder: 'desc',\r\n\tviewrecords: true,\r\n\tgridview: true,\r\n\tautoencode: true,\r\n\tcaption: ''\r\n});\r\n\r\n// Form validations\r\nlet contratos_params: UrlParams = {\r\n\t// cliente: \"CLIENTE 01\",\r\n\t// contrato: \"CONTRATO 01\"\r\n};\r\n\r\nhttp_findAll('contratos', contratos_params, payload => {\r\n\tfillJqGrid('#table_contratos', payload);\r\n});\r\n\r\nconst form = ($('#criterios-busqueda') as any)\r\n\t.parsley()\r\n\t.on('field:validated', () => {\r\n\t\tconst ok = $('.parsley-error').length === 0;\r\n\t\t// console.log(\"Errores de validación\", $(\".parsley-error\"))\r\n\t\t// $(\".callout-info\").toggleClass(\"hidden\", !ok);\r\n\t\t// $(\".callout-warning\").toggleClass(\"hidden\", ok);\r\n\t})\r\n\t.on('form:submit', () => {\r\n\t\tconsole.log('form:submit');\r\n\r\n\t\tcontratos_params = {};\r\n\r\n\t\tconst fecha = $('#fecha').val();\r\n\t\tconst contrato = $('#contrato').val();\r\n\t\tconst digito = $('#digito').val();\r\n\t\tconst negocio = $(\"input[name='negocio']:checked\").val();\r\n\r\n\t\tif (fecha) {\r\n\t\t\tcontratos_params.fecha = fecha;\r\n\t\t}\r\n\t\tif (contrato) {\r\n\t\t\tcontratos_params.contrato = contrato;\r\n\t\t}\r\n\t\tif (digito) {\r\n\t\t\tcontratos_params.digito = digito;\r\n\t\t}\r\n\t\tif (negocio) {\r\n\t\t\tcontratos_params.negocio = negocio;\r\n\t\t}\r\n\r\n\t\thttp_findAll('contratos', contratos_params, payload => {\r\n\t\t\tfillJqGrid('#table_contratos', payload);\r\n\t\t});\r\n\r\n\t\treturn false;\r\n\t});\r\n"]}